<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout1}">

<!--&lt;!&ndash; css files for DataTables &ndash;&gt;-->
<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>-->
<!--<script src="https://code.jquery.com/jquery-3.7.0.js"></script>-->
<!--<script src="https://cdn.datatables.net/2.0.8/js/dataTables.js"></script>-->
<!--<script src="https://cdn.datatables.net/2.0.8/js/dataTables.bootstrap5.min.js"></script>-->
<!--<script src="https://cdn.datatables.net/autofill/2.7.0/js/autoFill.bootstrap5.min.js"></script>-->
<!--<script src="https://cdn.datatables.net/autofill/2.7.0/js/dataTables.autoFill.min.js"></script>-->
<!--<script src="https://cdn.datatables.net/buttons/3.0.2/js/dataTables.buttons.min.js"></script>-->
<!--<script src="https://cdn.datatables.net/buttons/3.0.2/js/buttons.bootstrap5.min.js"></script>-->
<!--<script src="https://cdn.datatables.net/buttons/3.0.2/js/buttons.colVis.min.js"></script>-->
<!--<script src="https://cdn.datatables.net/buttons/3.0.2/js/buttons.print.min.js"></script>-->
<!--<script src="https://cdn.datatables.net/buttons/3.0.2/js/buttons.html5.min.js"></script>-->
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>-->
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>-->
<!--<script src="https://cdn.datatables.net/select/2.0.3/js/dataTables.select.js"></script>-->
<!--<script src="https://cdn.datatables.net/select/2.0.3/js/select.dataTables.js"></script>-->

<!--<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.css" />-->
<!--<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/2.0.8/css/dataTables.bootstrap5.min.css" />-->
<!--<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/autofill/2.7.0/css/autoFill.bootstrap5.min.css" />-->
<!--<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/3.0.2/css/buttons.bootstrap5.min.css" />-->

<th:block layout:fragment="script">
<script>
    var table = null;
    $(document).ready(function() {
        table = $('#table').DataTable({
            layout: {
                topStart: {
                    buttons: [
                        {
                            extend: 'colvis',
                            text: "선택",
                        },
                        {
                            extend: 'copy',
                            text: "복사",
                        },
                        {
                            extend: 'excel',
                            text: "엑셀다운로드",
                        },
                        // {
                        //     text: '품목 추가',
                        //     action: function (e, dt, node, config) {
                        //         $('#addOrderModal').modal('show'); // 모달 창을 띄움
                        //     }
                        // }

                    ]
                }
            },
            responsive: true,
            destroy: true,
            select: true,
            processing: true,
            serverSide: false,
            ordering: true,
            scrollX: true,
            info: false,
            ajax: {
                url: 'http://localhost:8080/api/products',
                type: 'GET',
                dataFilter: function (res) {
                    var json = $.parseJSON(res);

                    var data = {
                        'draw': json.data.draw,
                        'recordsTotal': json.data.recordsTotal,
                        'recordsFiltered': json.data.recordsFiltered,
                        'data': json.data,

                    };
                    return JSON.stringify(data);
                }
            },

            columns: [
                {title: "품목코드", data: 'productCode'},
                {title: "품목명", data: 'productName'},
                // {title: "최소수량", data: 'maxAmount'},
                {title: "최대수량", data: 'maxAmount'},
                {title: "BOM", data: 'bom'},
                {title: "원가", data: 'unitPrice'},
                {title: "판매가", data: 'sellingPrice'},
            ],
            language: {
                search: "검색:"
            }
        })
    });

</script>
</th:block>
<body>


<div layout:fragment="content">
    <div id="wrapper">
        <div id="page-wrapper">
            <div class="row">
                <div class="col-lg-12">
                    <h1 class="page-header">Tables</h1>
                </div>
                <!-- /.col-lg-12 -->
            </div>
            <!-- /.row -->
            <div class="row">
                <div class="col-lg-12">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                             관리
                        </div>
                        <div class="container1">
                            <table id="table" class="table table-striped table-bordered table-hover" >
                            </table>
                        </div>
                        <!-- /.panel-heading -->
                    </div>
                    <!-- /.panel -->
                </div>
                <!-- /.col-lg-12 -->
            </div>
            <!-- /.row -->

            <!-- /.row -->
        </div>
        <!-- /#page-wrapper -->

    </div>
    <!-- /#wrapper -->
</div>
</body>

</html>
